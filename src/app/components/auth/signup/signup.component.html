<div fxLayout="center" fxLayoutAlign="center center">
  <mat-card fxLayout="center" fxLayoutAlign="center center">
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <div fxLayout="center" fxLayoutAlign="center center">
      <form
        (submit)="onSignup()"
        *ngIf="!isLoading"
        #formSignup="ngForm"
        class="form-container"
        [formGroup]="form"
      >
        <mat-form-field>
          <input
            matInput
            name="email"
            type="email"
            placeholder="E-Mail"
            spellcheck="false"
            #email
            formControlName="email"
          />
          <mat-hint>
            Email will never be shared or sold.
          </mat-hint>
          <mat-error>
            {{ formErrors["email"] }}
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            name="userName"
            type="text"
            placeholder="Username"
            spellcheck="false"
            #userName
            formControlName="userName"
          />
          <mat-hint>
            Username can not be changed.
          </mat-hint>
          <mat-error>
            {{ formErrors["userName"] }}
          </mat-error>
        </mat-form-field>
        <div formGroupName="passwordsGroup">
          <mat-form-field>
            <input
              [type]="hidePassword ? 'password' : 'text'"
              matInput
              name="password"
              spellcheck="false"
              ngModel
              placeholder="Password"
              formControlName="password"
            />
            <button
              mat-icon-button
              type="button"
              tabindex="-1"
              matSuffix
              (click)="hidePassword = !hidePassword"
              [attr.aria-label]="'Hide Password'"
              [attr.aria-pressed]="hidePassword"
            >
              <mat-icon>{{
                hidePassword ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
            <mat-hint
              >Password minimum length 6, requires one letter, one number and
              one special character.</mat-hint
            >
            <mat-error>{{ formErrors["password"] }}</mat-error>
          </mat-form-field>
          <mat-form-field>
            <input
              [type]="hidePassword ? 'password' : 'text'"
              matInput
              name="confirmPassword"
              spellcheck="false"
              ngModel
              placeholder="Confirm Password"
              [errorStateMatcher]="errorMatcher"
              formControlName="confirmPassword"
            />
            <button
              mat-icon-button
              type="button"
              tabindex="-1"
              matSuffix
              (click)="hidePassword = !hidePassword"
              [attr.aria-label]="'Hide Password'"
              [attr.aria-pressed]="hidePassword"
            >
              <mat-icon>{{
                hidePassword ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
            <mat-hint
              >Confirm Password minimum length 6, requires one letter, one
              number and one special character.</mat-hint
            >
            <mat-error>{{
              formErrors["confirmPassword"]
                ? formErrors["confirmPassword"]
                : formErrors["passwordsGroup"]
            }}</mat-error>
          </mat-form-field>
        </div>
        <button
          mat-button
          color="primary"
          type="button"
          *ngIf="!isLoading"
          class="btn-inner"
          (click)="showCompanyInput = !showCompanyInput"
        >
          Add Company/Team
        </button>
        <mat-form-field *ngIf="showCompanyInput === true">
          <input
            type="text"
            matInput
            name="companyName"
            spellcheck="false"
            ngModel
            placeholder="Company/Team Name"
            formControlName="companyName"
          />
          <mat-hint>Username can not be changed.</mat-hint>
          <mat-error>{{ formErrors["companyName"] }}</mat-error>
        </mat-form-field>
        <p class="font-size">
          By clicking Sign Up, you are indicating that you have read and
          acknowledge the
          <a href="https://www.termsandcondiitionssample.com/"
            >Terms of Service</a
          >.
        </p>
        <button
          mat-button
          color="primary"
          type="submit"
          *ngIf="!isLoading"
          class="btn-normal"
        >
          Sign Up
        </button>
        <div class="logo-image" fxLayout="center" fxLayoutAlign="center center">
          <img
            src="http://localhost:3000/images/VERTICAL-LOGO-NO-JIRA.png"
            alt="Vertical Logo"
          />
          <!-- have to add in DB -->
        </div>
      </form>
    </div>
  </mat-card>
</div>
